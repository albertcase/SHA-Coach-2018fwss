(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

exports.__esModule = true;
var JumpBubble = function () {
    function JumpBubble(canvasNode, config, callback) {
        if (config === void 0) {
            config = {};
        }
        if (!canvasNode || !canvasNode.getContext) {
            console.warn("jumpBuffle，启用失败，canvas传参错误 或 浏览器不支持canvas");
            this.error = true;
            return false;
        }
        var t = this,
            width = canvasNode.width,
            height = canvasNode.height;
        var _config = {
            width: 30,
            left: width / 2 - 15,
            top: height - 30,
            alpha: 0.9,
            effect: 'ease',
            speed: 'default',
            max: 30,
            isToAlapha: true,
            diffWidth: 15,
            cavHeight: height,
            cavWidth: width
        };
        Object.assign(t, {
            canvasInfo: {
                canvas: canvasNode,
                width: width,
                height: height
            },
            config: Object.assign(_config, config),
            ctx: canvasNode.getContext("2d"),
            bubbleArr: [],
            allImg: {
                lists: [],
                doms: [],
                loadState: []
            }
        });
        callback && callback(t);
    }
    JumpBubble.prototype.create = function (imgsrc, before, after) {
        var t = this,
            ctx = t.ctx,
            error = t.error;
        if (!ctx || error) {
            console.warn("jumpBuffle：create时，ctx错误");
            return false;
        }
        var bubbleArr = t.bubbleArr,
            canvasInfo = t.canvasInfo,
            _a = t.config,
            imgwidth = _a.width,
            max = _a.max;
        t.createImg(imgsrc).then(function (imgNode) {
            var imgInfo = {
                el: imgNode,
                width: imgwidth || imgNode.width,
                height: imgwidth && imgNode.height * (imgwidth / imgNode.width) || imgNode.height
            };
            if (bubbleArr.length > max) {
                return;
            }
            bubbleArr.push(new DrawImg(ctx, imgInfo, t.config));
            before && before(canvasInfo.canvas, imgNode, bubbleArr);
            if (!t.setInter) {
                t.setInterFn(after);
            }
        });
        return this;
    };
    JumpBubble.prototype.createImg = function (imgsrc) {
        var _this = this;
        return new Promise(function (res) {
            var _a = _this.allImg,
                lists = _a.lists,
                doms = _a.doms,
                loadState = _a.loadState;
            var i = lists.indexOf(imgsrc);
            if (i > -1 && loadState[i]) {
                res(doms[i]);
                return;
            }
            var img = document.createElement('img');
            img.src = imgsrc;
            img.setAttribute('style', 'display:none;');
            document.body.appendChild(img);
            lists.push(imgsrc);
            doms.push(img);
            img.onload = function () {
                loadState.push(true);
                res(img);
            };
        });
    };
    JumpBubble.prototype.setInterFn = function (after) {
        var t = this,
            ctx = t.ctx,
            canvasInfo = t.canvasInfo,
            width = canvasInfo.width,
            height = canvasInfo.height;
        t.setInter = setInterval(function () {
            try {
                ctx.clearRect(0, 0, width, height);
                t.bubbleArr = t.bubbleArr.filter(function (val) {
                    val.addCtx();
                    val.updateCtx();
                    if (val.y < 10) {
                        after && after();
                        return false;
                    } else {
                        return true;
                    }
                });
                if (t.bubbleArr.length === 0) {
                    clearInterval(t.setInter);
                    t.setInter = null;
                    ctx.clearRect(0, 0, width, height);
                }
            } catch (e) {
                console.warn('创建态度气泡出错', e);
                clearInterval(t.setInter);
            }
        }, 25);
    };
    return JumpBubble;
}();
exports["default"] = JumpBubble;
var DrawImg = function () {
    function DrawImg(ctx, imgInfo, _a) {
        var left = _a.left,
            top = _a.top,
            alpha = _a.alpha,
            speed = _a.speed,
            cavWidth = _a.cavWidth,
            cavHeight = _a.cavHeight,
            effect = _a.effect,
            isToAlapha = _a.isToAlapha,
            diffWidth = _a.diffWidth;
        Object.assign(this, {
            whichUnit: null,
            ctx: ctx,
            originWidth: imgInfo.width,
            img: imgInfo.el,
            imgWidth: imgInfo.width - diffWidth,
            imgHeight: imgInfo.height - diffWidth,
            x: left,
            y: top,
            alpha: alpha,
            speed: speed,
            effect: effect,
            isToAlapha: isToAlapha,
            cavWidth: cavWidth,
            oneUnit: cavHeight / 4,
            toRight: Math.random() > 0.5 ? false : true,
            xPx: Math.random() * 2.5,
            yPx: null,
            yPxArr: null,
            diffAlapa: null
        });
        this.updateCtx = this.updateCtx.bind(this);
        this.effectCommon = this.effectCommon.bind(this);
    }
    DrawImg.prototype.getSpeed = function (type) {
        if (type === void 0) {
            type = 'default';
        }
        switch (type) {
            case 'slow':
                return 0.6;
            case 'fast':
                return 1.4;
            default:
                return 1;
        }
    };
    DrawImg.prototype.addCtx = function () {
        var p = this,
            ctx = p.ctx;
        ctx.save();
        ctx.globalAlpha = p.alpha;
        ctx.drawImage(p.img, p.x, p.y, p.imgWidth, p.imgHeight);
        ctx.restore();
    };
    DrawImg.prototype.setImgWidth = function () {
        var _a = this,
            originWidth = _a.originWidth,
            imgWidth = _a.imgWidth;
        if (imgWidth < originWidth) {
            this.imgWidth += 1;
            this.imgHeight += 1;
        }
    };
    DrawImg.prototype.setAlapa = function () {
        var p = this,
            y = p.y,
            isToAlapha = p.isToAlapha,
            whichUnit = p.whichUnit;
        if (!isToAlapha) return false;
        var diffAlapa = p.diffAlapa;
        if (whichUnit === 2) {
            if (!diffAlapa) {
                p.diffAlapa = diffAlapa = p.countDiffAlapa();
            }
            if (p.alpha <= diffAlapa) {
                p.alpha = 0;
            } else {
                p.alpha -= diffAlapa;
            }
        }
    };
    DrawImg.prototype.countDiffAlapa = function () {
        var _a = this,
            alpha = _a.alpha,
            oneUnit = _a.oneUnit,
            yPx = _a.yPx;
        return (alpha + 0.1) / (oneUnit / yPx);
    };
    DrawImg.prototype.setYpx = function () {
        var p = this,
            y = p.y,
            oneUnit = p.oneUnit;
        var i;
        switch (true) {
            case y < oneUnit:
                i = 2;
                break;
            case y > oneUnit && y < oneUnit * 2:
                i = 1;
                break;
            default:
                i = 0;
        }
        if (p.whichUnit !== i) {
            p.yPx = p.yPxArr[i];
            p.whichUnit = i;
        }
        p.y -= p.yPxArr[i];
    };
    DrawImg.prototype.setYpxArr = function () {
        if (this.yPxArr) return false;
        this.yPxArr = this.countYpxArr(this.effect, this.getSpeed(this.speed));
    };
    DrawImg.prototype.countYpxArr = function (effect, speedNum) {
        if (speedNum === void 0) {
            speedNum = 1;
        }
        var basePx = 2;
        var easeArr = [basePx - 0.5, basePx, basePx + 0.5];
        var linearArr = [basePx, basePx, basePx];
        switch (effect) {
            case 'ease':
                return mlt(easeArr);
            case 'linear':
                return mlt(linearArr);
            default:
                return mlt(easeArr);
        }
        function mlt(arr) {
            return arr.map(function (v) {
                return v * speedNum;
            });
        }
    };
    DrawImg.prototype.pullback = function () {
        var p = this,
            y = p.y,
            cavWidth = p.cavWidth,
            xPx = p.xPx,
            originWidth = p.originWidth;
        switch (true) {
            case p.x + originWidth >= cavWidth:
                p.toRight = false;
                p.x -= xPx;
                break;
            case p.x <= 2:
                p.toRight = true;
                p.x += xPx;
                break;
            case p.toRight:
                p.x += xPx;
                break;
            default:
                p.x -= xPx;
        }
        this.effectCommon();
    };
    DrawImg.prototype.effectCommon = function () {
        this.setYpxArr();
        this.setYpx();
        this.setAlapa();
        this.setImgWidth();
    };
    DrawImg.prototype.updateCtx = function () {
        this.pullback();
    };
    return DrawImg;
}();

},{}],2:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.__esModule = true;
var Base = function () {
    function Base(selector) {
        if (!selector) {
            return this;
        }
        if (typeof selector === 'string') {
            this.element = document.querySelector(selector);
        }
        if ((typeof selector === 'undefined' ? 'undefined' : _typeof(selector)) === 'object') {
            this.element = selector;
        }
        ;
    }
    Base.prototype.init = function (selector) {
        return this;
    };
    Base.prototype.baseInit = function () {};
    Base.test = function () {
        console.log('static');
    };
    Base.prototype.addEvent = function (el, type, fn, capture) {
        if (window.addEventListener) {
            el.addEventListener(type, function (e) {
                fn.call(el, e);
            }, capture);
        } else if (window.attachEvent) {
            el.attachEvent("on" + type, function (e) {
                fn.call(el, e);
            });
        }
    };
    Base.prototype.sectionChange = function (n) {
        var sectionItems = document.querySelectorAll(".section");
        for (var i = 0; i < sectionItems.length; i++) {
            var sectionItem = sectionItems[i];
            sectionItem.className = 'section';
        }
        document.getElementById(n).className = "section show";
        this.overscroll(document.getElementById(n));
    };
    Base.prototype.formErrorTips = function (alertNodeContext) {
        var alertInt,
            alertEvent = document.querySelectorAll('.alertNode');
        clearTimeout(alertInt);
        if (alertEvent.length > 0) {
            alertEvent.innerHTML = alertNodeContext;
        } else {
            var alertNode = document.createElement("div");
            alertNode.setAttribute("class", "alertNode");
            alertNode.innerHTML = alertNodeContext;
            document.body.appendChild(alertNode);
        }
        alertInt = setTimeout(function () {
            alertEvent = document.querySelector('.alertNode');
            alertEvent.remove();
        }, 1600);
    };
    Base.prototype.ajaxFun = function (method, url, data, callback) {
        var xhr;
        if (window.XMLHttpRequest) {
            xhr = new XMLHttpRequest();
        } else {
            xhr = new ActiveXObject("Microsoft.XMLHttp");
        }
        xhr.open(method, url, true);
        xhr.onreadystatechange = function () {
            if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                var data_1 = xhr.responseText;
                callback(eval("(" + data_1 + ")"));
            }
        };
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        xhr.send(data);
    };
    Base.prototype.loadFn = function (arr, fn, fn2) {
        var loader = new PxLoader();
        for (var i = 0; i < arr.length; i++) {
            loader.addImage(arr[i]);
        }
        ;
        var _pageImgs = document.querySelectorAll('img');
        for (var i_1 = 0; i_1 < _pageImgs.length; i_1++) {
            var pageImgNode = _pageImgs[i_1],
                pageImgNodeSourcesrc = pageImgNode.getAttribute('sourcesrc');
            if (pageImgNodeSourcesrc) {
                pageImgNode.src = pageImgNodeSourcesrc;
            }
        }
        loader.addProgressListener(function (e) {
            var percent = Math.round(e.completedCount / e.totalCount * 100);
            if (fn2) fn2(percent);
        });
        loader.addCompletionListener(function () {
            if (fn) fn();
        });
        loader.start();
    };
    Base.prototype.loadingFnDoing = function (allAmg, loadCallback) {
        this.loadFn(allAmg, function () {}, function (p) {
            if (p >= 100) {
                loadCallback();
                console.log('loading finsh!');
            } else {
                console.log(p);
            }
        });
    };
    Base.prototype.overscroll = function (el) {
        el.addEventListener('touchstart', function () {
            var top = el.scrollTop,
                totalScroll = el.scrollHeight,
                currentScroll = top + el.offsetHeight;
            if (top === 0) {
                el.scrollTop = 1;
            } else if (currentScroll === totalScroll) {
                el.scrollTop = top - 1;
            }
        });
        el.addEventListener('touchmove', function (evt) {
            if (el.offsetHeight < el.scrollHeight) evt._isScroller = true;
        });
    };
    Base.prototype.wxshareFun = function (obj) {
        wx.ready(function () {
            wx.onMenuShareAppMessage({
                title: obj._title,
                desc: obj._desc,
                link: obj._link,
                imgUrl: obj._imgUrl,
                type: '',
                dataUrl: '',
                success: function success() {
                    obj._shareAppMessageCallback();
                },
                cancel: function cancel() {}
            });
            wx.onMenuShareTimeline({
                title: obj._desc_friend,
                link: obj._link,
                imgUrl: obj._imgUrl,
                success: function success() {
                    obj._shareTimelineCallback();
                },
                cancel: function cancel() {}
            });
        });
    };
    Base.prototype.getCookie = function (name) {
        var arr,
            reg = new RegExp("(^| )" + name + "=([^;]*)(;|$)");
        if (arr = document.cookie.match(reg)) return unescape(arr[2]);else return null;
    };
    Base.prototype.delCookie = function (name) {
        var exp = new Date();
        exp.setTime(exp.getTime() - 1);
        var cval = this.getCookie(name);
        if (cval != null) document.cookie = name + "=" + cval + ";expires=" + exp.toGMTString();
    };
    Base.prototype.setCookie = function (name, value, time) {
        var d = new Date();
        d.setTime(d.getTime() + time * 24 * 60 * 60 * 1000);
        var expires = "expires=" + d.toUTCString();
        document.cookie = name + "=" + value + "; " + expires;
    };
    Base.prototype.getQueryString = function (name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]);
        return null;
    };
    Base.prototype.addClass = function (className) {
        if (this.hasClass(className)) return false;
        this.element.className += ' ' + className;
        return true;
    };
    ;
    Base.prototype.hasClass = function (className) {
        var regex = new RegExp('(^|\\s)' + className + '(\\s|$)', 'g');
        return regex.test(this.element.className);
    };
    Base.prototype.removeClass = function (className) {
        if (this.hasClass(className)) {
            var regex = new RegExp('(^|\\s)' + className + '(\\s|$)', 'g');
            this.element.className = this.className.replace(regex, '');
            return true;
        }
        return false;
    };
    Base.prototype.eventTester = function (m, e, c) {
        m.addEventListener(e, function () {
            c();
        }, false);
    };
    Base.prototype.isPhoneNum = function (v) {
        return (/^1([0-9]){10}$/.test(v)
        );
    };
    Base.prototype.isEmail = function (v) {
        return (/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/.test(v)
        );
    };
    Base.prototype.elFadeOut = function (el, callback) {
        var start = Date.now(),
            dur = 600;
        function update() {
            var p = ((Date.now() - start) / dur).toFixed(1);
            if (p < 1) {
                el.style.opacity = (1 - p).toFixed(1);
                requestAnimationFrame(update);
            } else {
                callback();
            }
        }
        requestAnimationFrame(update);
    };
    return Base;
}();
exports.Base = Base;

},{}],3:[function(require,module,exports){
"use strict";

exports.__esModule = true;
var configData = {
    loading: ['../media/show.mp4', '../media/bg-music.mp3', '../media/ty-music.mp3', '../media/zyx-music.mp3', '../img/ava/a1.jpg', '../img/ava/a2.jpg', '../img/ava/a3.jpg', '../img/ava/a4.jpg', '../img/ava/a5.jpg', '../img/ava/a6.jpg', '../img/ava/a7.jpg', '../img/ava/a8.jpg', '../img/ava/a9.jpg', '../img/ava/a10.jpg', '../img/bubble/blue.png', '../img/bubble/green.png', '../img/bubble/heart.png', '../img/bubble/orange.png', '../img/bubble/pink.png', '../img/pro/p1.png', '../img/chat-bag.jpg', '../img/bag.png', '../img/close.png', '../img/icon-msg.png', '../img/icon-share__black.png', '../img/icon-share.png', '../img/icon-volume__black.png', '../img/icon-volume.png', '../img/index-bg.jpg', '../img/logo.png', '../img/poster.jpg', '../img/pro-pop__logo.png', '../img/share-tips.png', '../img/slogan.png'],
    video: {
        parentEle: '.show-time_video__con',
        path: '../media/show.mp4',
        isplay: false,
        poster: '../img/poster.jpg'
    },
    audio: {
        bg: {
            path: '../media/bg-music.mp3',
            isplay: false,
            volume: 0.3
        },
        volue1: {
            start: {
                path: '../media/ty-music.mp3',
                isplay: false,
                volume: 1
            },
            end: {
                path: '../media/zyx-music.mp3',
                isplay: false,
                volume: 1
            }
        },
        volue2: {
            start: {
                path: '../media/ty-music.mp3',
                isplay: false,
                volume: 1
            },
            end: {
                path: '../media/zyx-music.mp3',
                isplay: false,
                volume: 1
            }
        }
    }
};
exports.configData = configData;

},{}],4:[function(require,module,exports){
"use strict";

exports.__esModule = true;
var JumpBubble_1 = require("./JumpBubble");
var base_1 = require("./base");
var model_1 = require("./model");
var message_1 = require("./message");
var allimg = ['../media/show.mp4', '../media/bg-music.mp3', '../media/ty-music.mp3', '../media/zyx-music.mp3', '../img/ava/a1.jpg', '../img/ava/a2.jpg', '../img/ava/a3.jpg', '../img/ava/a4.jpg', '../img/ava/a5.jpg', '../img/ava/a6.jpg', '../img/ava/a7.jpg', '../img/ava/a8.jpg', '../img/ava/a9.jpg', '../img/ava/a10.jpg', '../img/bubble/blue.png', '../img/bubble/green.png', '../img/bubble/heart.png', '../img/bubble/orange.png', '../img/bubble/pink.png', '../img/pro/p1.png', '../img/chat-bag.jpg', '../img/bag.png', '../img/close.png', '../img/icon-msg.png', '../img/icon-share__black.png', '../img/icon-share.png', '../img/icon-volume__black.png', '../img/icon-volume.png', '../img/index-bg.jpg', '../img/logo.png', '../img/poster.jpg', '../img/pro-pop__logo.png', '../img/share-tips.png', '../img/slogan.png'];
var baseClass = new base_1.Base(),
    common = new message_1.Common(),
    audio,
    video;
var V = function V(selector) {
    var baseClassa = new base_1.Base(selector);
    return baseClassa;
};
function bubbleFun() {
    var list1 = ['/img/bubble/blue.png', '/img/bubble/green.png', '/img/bubble/orange.png', '/img/bubble/pink.png'];
    var bubble = new JumpBubble_1["default"](document.getElementById("paopaoCanvas0"), {
        effect: 'linear',
        speed: 'slow',
        width: 27,
        isToAlapha: true,
        diffWidth: 20
    });
    var s = 0;
    setInterval(function () {
        if (s > list1.length - 1) {
            s = 0;
        }
        var img = new Image();
        img.src = list1[s];
        img.onload = function () {
            bubble.create(list1[s]);
            s++;
        };
    }, 320);
    var heartNum = 0.1,
        setHeartNumTime;
    setHeartNumTime = setInterval(function () {
        heartNum += 0.1;
        document.querySelector('.heart em').innerHTML = heartNum.toFixed(1);
    }, 365);
}
window.addEventListener("load", function () {
    baseClass.loadingFnDoing(allimg, function () {
        var loading = document.querySelector('.loading');
        loading.style.display = 'none';
        video = new model_1.Video();
        common.init();
        var showTime = video.init({
            parentEle: document.querySelector('.show-time_video__con'),
            path: '../media/show.mp4',
            isplay: false,
            poster: '../img/poster.jpg'
        });
        document.querySelector('.poster').onclick = function () {
            showTime.play();
            this.style.visibility = 'hidden';
        };
        var chatRoomNode = document.getElementById("chatList");
        var sysMsg = new message_1.Sys_msg(chatRoomNode);
        var choseVolume = document.querySelectorAll('.choseVolume');
        var starVolume;
        for (var i = 0; i < choseVolume.length; i++) {
            choseVolume[i].addEventListener("click", function (e) {
                var volumePath = this.getAttribute('data-path');
                showTime.play();
                baseClass.sectionChange("showTime");
                sysMsg.init();
                bubbleFun();
                e.preventDefault();
            });
        }
        var iconVolume = document.querySelector('.icon-volume');
        iconVolume.style.display = 'none';
        var ruleScrollEle = document.querySelector('.p-model-con');
        baseClass.overscroll(ruleScrollEle);
        var chatRoom = document.querySelector('.chat-room');
        baseClass.overscroll(chatRoom);
        var msgInput = document.querySelector('.msg-input'),
            msglist = document.querySelector('.msglist'),
            msglistli = msglist.querySelectorAll('li'),
            msgText = msgInput.querySelector('input');
        msgInput.onclick = function () {
            if (V('.msglist').hasClass('hidden')) {
                msglist.className = 'msglist';
            } else {
                msglist.className = 'msglist hidden';
            }
        };
        var curIndex = 0;
        var _loop_1 = function _loop_1(i) {
            var msglistliNode = msglistli[i];
            msglistliNode.addEventListener('click', function (e) {
                msglistli[curIndex].className = "";
                curIndex = i;
                msglistliNode.className = msglistliNode.className ? '' : 'hover';
                msgText.value = this.querySelector('span').innerHTML;
            });
        };
        for (var i = 0; i < msglistli.length; i++) {
            _loop_1(i);
        }
        var sendBtn = document.querySelector('.msg-btn');
        sendBtn.addEventListener('click', function (e) {
            var sendMsg = msgText.value;
            if (!sendMsg || sendMsg == '点击评论') return false;
            sysMsg.append(sendMsg, true);
            msgText.value = "";
        });
        var modelPop = new message_1.ModelPop();
        modelPop.init();
        var productPopSwiper = new Swiper('#productPop', {
            nextButton: '.swiper-button-next',
            prevButton: '.swiper-button-prev',
            effect: 'cube'
        });
        var productPop = new message_1.ProductPop();
        productPop.init();
        var checkTime = [];
        video.eventTester(showTime, 'timeupdate', function () {
            var time = parseInt(showTime.currentTime);
            if (checkTime.indexOf(time) < 0) {
                if (time == 6) {
                    checkTime.push(time);
                    modelPop.show('m1', 4);
                } else if (time == 38) {
                    checkTime.push(time);
                    modelPop.show('m2', 2);
                } else if (time == 50) {
                    checkTime.push(time);
                    modelPop.show('m3', 4);
                } else if (time == 80) {
                    checkTime.push(time);
                    productPop.show(function () {
                        productPopSwiper.update();
                    });
                } else {}
            }
        });
    });
});
document.addEventListener('touchmove', function (evt) {
    if (!evt._isScroller) {
        evt.preventDefault();
    }
});

},{"./JumpBubble":1,"./base":2,"./message":5,"./model":6}],5:[function(require,module,exports){
"use strict";

var __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) {
            try {
                step(generator.next(value));
            } catch (e) {
                reject(e);
            }
        }
        function rejected(value) {
            try {
                step(generator["throw"](value));
            } catch (e) {
                reject(e);
            }
        }
        function step(result) {
            result.done ? resolve(result.value) : new P(function (resolve) {
                resolve(result.value);
            }).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = undefined && undefined.__generator || function (thisArg, body) {
    var _ = { label: 0, sent: function sent() {
            if (t[0] & 1) throw t[1];return t[1];
        }, trys: [], ops: [] },
        f,
        y,
        t,
        g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {
        return this;
    }), g;
    function verb(n) {
        return function (v) {
            return step([n, v]);
        };
    }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) {
            try {
                if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [0, t.value];
                switch (op[0]) {
                    case 0:case 1:
                        t = op;break;
                    case 4:
                        _.label++;return { value: op[1], done: false };
                    case 5:
                        _.label++;y = op[1];op = [0];continue;
                    case 7:
                        op = _.ops.pop();_.trys.pop();continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                            _ = 0;continue;
                        }
                        if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
                            _.label = op[1];break;
                        }
                        if (op[0] === 6 && _.label < t[1]) {
                            _.label = t[1];t = op;break;
                        }
                        if (t && _.label < t[2]) {
                            _.label = t[2];_.ops.push(op);break;
                        }
                        if (t[2]) _.ops.pop();
                        _.trys.pop();continue;
                }
                op = body.call(thisArg, _);
            } catch (e) {
                op = [6, e];y = 0;
            } finally {
                f = t = 0;
            }
        }if (op[0] & 5) throw op[1];return { value: op[0] ? op[1] : void 0, done: true };
    }
};
exports.__esModule = true;
if (typeof Object.assign != 'function') {
    Object.assign = function (target) {
        'use strict';

        if (target == null) {
            throw new TypeError('Cannot convert undefined or null to object');
        }
        target = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (source != null) {
                for (var key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        target[key] = source[key];
                    }
                }
            }
        }
        return target;
    };
}
var Common = function () {
    function Common() {}
    ;
    Common.prototype.init = function () {
        var rule = document.querySelector('.rule'),
            self = this;
        rule.addEventListener("click", function () {
            self.popup("rule-pop");
        });
        self.popupClose();
    };
    Common.prototype.addEvent = function (el, type, fn, capture) {
        if (window.addEventListener) {
            el.addEventListener(type, function (e) {
                fn.call(el, e);
            }, capture);
        } else if (window.attachEvent) {
            el.attachEvent("on" + type, function (e) {
                fn.call(el, e);
            });
        }
    };
    Common.prototype.popup = function (ele) {
        var items = document.querySelectorAll('popup');
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            item.className = 'popup transition hidden';
        }
        document.getElementById(ele).className = 'popup';
    };
    Common.prototype.popupClose = function () {
        var items = document.querySelectorAll('.close');
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            item.onclick = function (e) {
                var parentNode = this.parentNode.id;
                document.getElementById(parentNode).className = 'popup transition hidden';
            };
        }
    };
    return Common;
}();
exports.Common = Common;
var common = new Common();
var Sys_msg = function () {
    function Sys_msg(parentEle, time) {
        if (time === void 0) {
            time = 2200;
        }
        Object.assign(this, {
            'waitTime': time,
            'parentEle': parentEle,
            'chatListJson': [{
                'avaName': 'a1',
                'text': 'Hello，大家好我是唐嫣，和我一起直击COACH秀场。',
                'time': 2000
            }, {
                'avaName': 'a2',
                'text': '太幸运了吧！和我糖一起看秀耶~',
                'time': 1600
            }, {
                'avaName': 'a3',
                'text': '我糖，最美！',
                'time': 1000
            }, {
                'avaName': 'a4',
                'text': "\u4F60\u4EEC\u597D\uFF0C\u6211\u662F\u8BB8\u9B4F\u6D32\uFF0Cit's show time\uFF01\u548C\u6211\u4E00\u8D77\u8D70\u8FDBCOACH\u79C0\u573A\u5427~",
                'time': 2700
            }, {
                'avaName': 'a5',
                'text': "\u505A\u68A6\u4E00\u6837\uFF0C\u7537\u795E\uFF0CI love you\uFF01",
                'time': 1600
            }, {
                'avaName': 'a6',
                'text': "\u7CA5\u7CA5\u548C\u6211\u4E00\u8D77\u770Bshow\uFF0C\u592A\u68D2\u4E86\uFF01",
                'time': 1600
            }, {
                'avaName': 'a1',
                'text': "\u8FD9\u4EF6**\u4E0A\u56FE\u7AE0\u597D\u7279\u522B\u54E6\uFF01\u611F\u89C9\u975E\u5E38\u9002\u5408\u6211\uFF0C\u559C\u6B22\uFF01",
                'time': 2500
            }, {
                'avaName': 'a7',
                'text': "\u7CD6\u7CD6\u7A7F\u4E00\u5B9A\u5F88\u597D\u770B\uFF01",
                'time': 1000
            }, {
                'avaName': 'a4',
                'text': "\u8FD9\u5B63\u8BBE\u8BA1\u5F88\u6709**\u7684\u611F\u89C9\u3002",
                'time': 1600
            }, {
                'avaName': 'a8',
                'text': "\u4EC0\u4E48\u65F6\u5019\u53EF\u4EE5\u4E70\u5230\u554A\uFF1F",
                'time': 1600
            }, {
                'avaName': 'a1',
                'text': "WOW\uFF0C\u65B0\u6B3E**\u5370\u82B1\u7684\u88D9\u5B50\u4E5F\u8D85\u6709\u8303\u513F\u7684~",
                'time': 2200
            }, {
                'avaName': 'a4',
                'text': "\u662F\u54E6\uFF0C\u5F88\u4ED9\uFF0C\u9002\u5408\u4F60~",
                'time': 1600
            }, {
                'avaName': 'a1',
                'text': "\u6839\u672C\u6309\u8010\u4E0D\u4F4F\u4E70\u4E70\u4E70\u7684\u5FC3\u513F~",
                'time': 2000
            }, {
                'avaName': 'a4',
                'text': "\u8FD9\u5957\u5F88\u4E0D\u9519~\u5973\u5B69\u5B50\u4E5F\u7A7F\u51FA\u4E86\u5E05\u5E05\u7684\u611F\u89C9\uFF01",
                'time': 2200
            }, {
                'avaName': 'a1',
                'text': "COACH\u6BCF\u4E00\u5B63\u90FD\u4F1A\u7ED9\u6211\u60CA\u559C",
                'time': 2000
            }, {
                'avaName': 'a9',
                'text': "\u559C\u6B22\uFF0C\u4E0D\u77E5\u9053\u4EF7\u683C\u662F\u591A\u5C11\u3002",
                'time': 2000
            }, {
                'avaName': 'a10',
                'text': "\u4E00\u53E5\u8BDD\u8BC4\u4EF7COACH\u5168\u65B0\u4E00\u5B63\u5F00\u4E86\u5916\u6302\uFF01",
                'time': 2200
            }, {
                'avaName': 'a1',
                'text': "<div class=\"chat-spi\"><a href=\"http://www.baidu.com\" target=\"_blank\">\n                        <div class=\"chat-spi__head spi01\"><span><img src=\"/img/bag.png\" width=\"80%\"/></span><p>COACH\u7F51\u4E0A\u5546\u5E97</p></div>\n                        <div class=\"chat-spi__con\">\n                            <p>Coach x Keith Haring</p>\n                            <img src=\"/img/chat-bag.jpg\" width=\"100%\"/>\n                        </div>\n                        </a>\n                    </div>",
                'time': 3000
            }]
        });
    }
    Sys_msg.prototype.html = function (msg, own, picName) {
        var liText = document.createElement('li'),
            liContent = "";
        if (own) {
            liText.className = 'own';
            liContent = "\n                <div class=\"chat-msg__content\">\n                    " + msg + "\n                </div>\n            ";
        } else {
            liContent = "\n                <div class=\"pic\"><img src=\"../img/ava/" + picName + ".jpg\" width=\"100%\"/></div>\n                <div class=\"chat-msg__content\">" + msg + "</div>";
        }
        liText.innerHTML = liContent;
        return liText;
    };
    Sys_msg.prototype.append = function (msg, own, picName) {
        if (own === void 0) {
            own = false;
        }
        var parentEle = this.parentEle;
        var chatScroll = document.querySelector(".chat-room");
        parentEle.appendChild(this.html(msg, own, picName));
        chatScroll.scrollTop = chatScroll.scrollHeight;
    };
    Sys_msg.prototype.wait = function () {
        var waitTime = this.waitTime;
        return new Promise(function (resolve) {
            setTimeout(resolve, waitTime);
        });
    };
    Sys_msg.prototype.gen = function () {
        var chatListJson, i;
        return __generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    chatListJson = this.chatListJson;
                    i = 0;
                    _a.label = 1;
                case 1:
                    if (!(i < chatListJson.length)) return [3, 4];
                    return [4, this.append(chatListJson[i].text, false, chatListJson[i].avaName)];
                case 2:
                    _a.sent();
                    _a.label = 3;
                case 3:
                    i++;
                    return [3, 1];
                case 4:
                    return [2];
            }
        });
    };
    Sys_msg.prototype.init = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, chatListJson, waitTime, g, i;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = this, chatListJson = _a.chatListJson, waitTime = _a.waitTime, g = this.gen();
                        i = 0;
                        _b.label = 1;
                    case 1:
                        if (!(i < chatListJson.length)) return [3, 4];
                        waitTime = chatListJson[i]['time'];
                        return [4, this.wait()];
                    case 2:
                        _b.sent();
                        g.next();
                        _b.label = 3;
                    case 3:
                        i++;
                        return [3, 1];
                    case 4:
                        return [2];
                }
            });
        });
    };
    return Sys_msg;
}();
exports.Sys_msg = Sys_msg;
function hasClass(el, elName) {
    var regex = new RegExp('(^|\\s)' + elName + '(\\s|$)', 'g');
    return regex.test(el.className);
}
var ModelPop = function () {
    function ModelPop() {
        Object.assign(this, {
            parentEle: document.querySelector('.model-pop'),
            modelPopCon: document.querySelector('#modelPop .swiper-wrapper'),
            swiperNode: null,
            setTime: null
        });
    }
    ModelPop.prototype.init = function () {
        var parentEle = this.parentEle,
            proClose = parentEle.querySelector('.model-pop__close'),
            self = this;
        common.addEvent(proClose, 'click', function (e) {
            self.hide();
        });
    };
    ModelPop.prototype.html = function (file, max) {
        var swiperInnerHTML = [];
        for (var i = 1; i <= max; i++) {
            swiperInnerHTML.push("<div class=\"swiper-slide\" style=\"background-image:url(/img/model/" + file + "/" + i + ".jpg)\"></div>");
        }
        return swiperInnerHTML.join("");
    };
    ModelPop.prototype.hide = function () {
        var _a = this,
            parentEle = _a.parentEle,
            modelPopCon = _a.modelPopCon,
            swiperNode = _a.swiperNode;
        if (!hasClass(parentEle, 'hidden')) {
            parentEle.className += ' hidden';
            modelPopCon.style = "";
            parentEle.style = "";
            swiperNode = null;
        }
        ;
    };
    ModelPop.prototype.show = function (file, max) {
        var _a = this,
            setTime = _a.setTime,
            modelPopCon = _a.modelPopCon,
            swiperNode = _a.swiperNode,
            parentEle = _a.parentEle,
            self = this;
        clearTimeout(setTime);
        modelPopCon.innerHTML = self.html(file, max);
        parentEle.className = parentEle.className.replace(' hidden', '');
        var start = Date.now(),
            dur = 300;
        function update() {
            var p = (Date.now() - start) / dur;
            if (p <= 1) {
                console.log(p.toFixed(1));
                parentEle.style.opacity = p.toFixed(1);
                requestAnimationFrame(update);
            } else {
                cancelAnimationFrame(update);
            }
        }
        requestAnimationFrame(update);
        swiperNode = new Swiper('#modelPop', {
            spaceBetween: 30,
            initialSlide: 0,
            observer: true
        });
        swiperNode.update(true);
        setTime = setTimeout(function () {
            self.hide();
        }, 5000);
    };
    return ModelPop;
}();
exports.ModelPop = ModelPop;
var ProductPop = function () {
    function ProductPop() {
        this.parentEle = document.querySelector('.product-pop');
        this.changeHeadNode = document.querySelector('.chat-head');
        this.shareNode = document.querySelector('.share-pop');
        this.shareIcon = document.querySelector('.icon-share');
    }
    ProductPop.prototype.init = function () {
        var buyBtn = document.querySelector('.buyBtn'),
            _a = this,
            shareIcon = _a.shareIcon,
            shareNode = _a.shareNode,
            self = this;
        common.addEvent(buyBtn, 'touchstart', function (e) {
            self.hide();
            e.preventDefault();
        });
        common.addEvent(shareIcon, 'touchstart', function (e) {
            self.shareShow();
            e.preventDefault();
        });
        common.addEvent(shareNode, 'touchstart', function (e) {
            self.shareHide();
            e.preventDefault();
        });
    };
    ProductPop.prototype.hide = function () {
        var _a = this,
            parentEle = _a.parentEle,
            changeHeadNode = _a.changeHeadNode;
        if (!hasClass(parentEle, 'hidden')) {
            parentEle.className += ' hidden';
            changeHeadNode.className = changeHeadNode.className.replace(' chat-head_white', '');
        }
        ;
    };
    ProductPop.prototype.show = function (callback) {
        var _a = this,
            parentEle = _a.parentEle,
            changeHeadNode = _a.changeHeadNode;
        if (hasClass(parentEle, 'hidden')) {
            parentEle.className = parentEle.className.replace(' hidden', '');
            changeHeadNode.className += ' chat-head_white';
        }
        ;
        callback();
    };
    ProductPop.prototype.shareHide = function () {
        var shareNode = this.shareNode;
        if (!hasClass(shareNode, 'hidden')) {
            shareNode.className += ' hidden';
        }
        ;
    };
    ProductPop.prototype.shareShow = function () {
        var shareNode = this.shareNode;
        if (hasClass(shareNode, 'hidden')) {
            shareNode.className = shareNode.className.replace(' hidden', '');
        }
        ;
    };
    return ProductPop;
}();
exports.ProductPop = ProductPop;

},{}],6:[function(require,module,exports){
"use strict";

var __extends = undefined && undefined.__extends || function () {
    var extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (d, b) {
        d.__proto__ = b;
    } || function (d, b) {
        for (var p in b) {
            if (b.hasOwnProperty(p)) d[p] = b[p];
        }
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() {
            this.constructor = d;
        }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
}();
exports.__esModule = true;
var Media = function () {
    function Media() {}
    Media.prototype.setVolume = function (ele, num) {
        ele.volume = num;
    };
    Media.prototype.setMuted = function (ele, onOFF) {
        ele.muted = onOFF;
    };
    Media.prototype.eventTester = function (ele, event, callback) {
        ele.addEventListener(event, function () {
            callback();
        }, false);
    };
    return Media;
}();
var Video = function (_super) {
    __extends(Video, _super);
    function Video() {
        var _this = this;
        _this.posterEle = document.querySelector('.poster');
        _this.videoEle = document.createElement('VIDEO');
        _this = _super.call(this) || this;
        return _this;
    }
    Video.prototype.init = function (_a) {
        var _b = _a.parentEle,
            parentEle = _b === void 0 ? document.body : _b,
            path = _a.path,
            _c = _a.isplay,
            isplay = _c === void 0 ? false : _c,
            poster = _a.poster,
            _d = _a.volume,
            volume = _d === void 0 ? 1 : _d;
        var self = this,
            parentEle = document.querySelector(parentEle);
        this.videoEle.setAttribute('src', path);
        this.videoEle.setAttribute('x5-playsinline', 'true');
        this.videoEle.setAttribute('playsinline', 'true');
        this.videoEle.setAttribute('webkit-playsinline', 'true');
        this.videoEle.poster = poster;
        this.videoEle.defaultMuted = true;
        parentEle.appendChild(this.videoEle);
        if (isplay) {
            this.videoEle.play();
            document.addEventListener("WeixinJSBridgeReady", function () {
                self.videoEle.play();
            }, false);
        }
        this.eventTester(this.videoEle, 'play', function () {
            parentEle.style.height = '100%';
        });
        this.eventTester(this.videoEle, 'timeupdate', function () {
            if (!self.videoEle.isPlayed && self.videoEle.currentTime > 0.1) {
                self.posterHide();
                self.videoEle.isPlayed = !0;
            }
        });
        this.eventTester(this.videoEle, 'ended', function () {
            parentEle.style.height = 0;
            self.posterShow();
            self.posterEle.onclick = function () {
                return false;
            };
        });
        return this.videoEle;
    };
    Video.prototype.posterShow = function () {
        this.posterEle.style.visibility = 'visible';
        this.videoEle.style.visibility = 'hidden';
    };
    Video.prototype.posterHide = function () {
        this.posterEle.style.visibility = 'hidden';
        this.videoEle.style.visibility = 'visible';
    };
    return Video;
}(Media);
exports.Video = Video;
var Audio = function (_super) {
    __extends(Audio, _super);
    function Audio() {
        return _super.call(this) || this;
    }
    Audio.prototype.init = function (_a) {
        var _b = _a.parentEle,
            parentEle = _b === void 0 ? document.body : _b,
            path = _a.path,
            volume = _a.volume,
            _c = _a.isplay,
            isplay = _c === void 0 ? false : _c,
            _d = _a.volume,
            volume = _d === void 0 ? 1 : _d;
        var audioEle = document.createElement('AUDIO');
        audioEle.setAttribute('src', path);
        audioEle.volume = volume;
        parentEle.appendChild(audioEle);
        if (isplay) {
            audioEle.play();
            document.addEventListener("WeixinJSBridgeReady", function () {
                audioEle.play();
            }, false);
        }
        return audioEle;
    };
    return Audio;
}(Media);
exports.Audio = Audio;

},{}]},{},[3,1,2,6,4])

//# sourceMappingURL=bundleWeibo.min.js.map
